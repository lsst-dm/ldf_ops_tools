#!/bin/bash

#for getting the node usage with usage.py (since it's such a pain in the butt to keep inputting the job numbers.

#w_2018_04: 
#JOBS='108261, 108352, 108354, 108356, 108353, 108357, 108355, 108347, 108349, 108348, 108351, 108350, 108343, 108345, 108344, 108363, 108346, 108406, 108401, 108403, 108255, 108257, 108260, 108256, 108259, 108258, 108250, 108252, 108251, 108254, 108253, 108245, 108247, 108246, 108331, 108249, 108248, 108268, 108270, 108269, 108272, 108271, 108279, 108281, 108280, 108332, 108282, 108273, 108275, 108274, 108277, 108276, 108278'

#w_2018_06:
#JOBS='109095, 109169, 109170, 109171, 109310, 109168, 109311, 109150, 109152, 109151, 109154, 109153, 109145, 109147, 109146, 109149, 109148, 109337, 109233, 109202, 109088, 109090, 109093, 109089, 109092, 109091, 109083, 109085, 109084, 109087, 109086, 109078, 109080, 109079, 109082, 109081, 109155, 109157, 109159, 109308, 109160, 109309, 109135, 109137, 109136, 109139, 109138, 109113, 109132, 109131, 109134, 109133, 109106, 109108, 109107, 109110, 109109, 109101, 109103, 109102, 109105, 109104, 109115, 109117, 109116, 109119, 109118, 109120'

#w_2018_08:
#JOBS='110555, 110635, 110637, 110639, 110636, 110640, 110638, 110625, 110627, 110626, 110629, 110628, 110620, 110622, 110621, 110624, 110623, 110846, 111407, 110773, 110838, 110549, 110551, 110554, 110550, 110553, 110552, 110544, 110546, 110545, 110548, 110547, 110539, 110541, 110540, 110543, 110542, 110614, 110616, 110618, 110615, 110619, 110617, 110587, 110589, 110607, 110591, 110608, 110582, 110584, 110583, 110586, 110606, 110571, 110573, 110572, 110575, 110574, 110566, 110568, 110567, 110570, 110569, 110576, 110602, 110577, 110604, 110603, 110605'

#w_2018_10:
#JOBS='118122, 118272, 118274, 118276, 118273, 118277, 118275, 118234, 118236, 118235, 118238, 118237, 118229, 118231, 118230, 118233, 118232, 118406, 118438, 118369, 118342, 118093, 118095, 118098, 118094, 118097, 118096, 118086, 118089, 118087, 118092, 118090, 118080, 118083, 118082, 118085, 118084, 118203, 118215, 118217, 118204, 118218, 118216, 118198, 118200, 118199, 118202, 118201, 118193, 118195, 118194, 118197, 118196, 118146, 118148, 118147, 118150, 118149, 118141, 118143, 118142, 118145, 118144, 118151, 118153, 118152, 118155, 118154, 118156'

#w_2018_12:
#JOBS='125046, 125138, 125140, 125142, 125139, 125143, 125141, 125133, 125135, 125134, 125137, 125136, 125128, 125130, 125129, 125132, 125131, 125217, 125243, 125188, 125190, 125040, 125042, 125045, 125041, 125044, 125043, 125035, 125037, 125036, 125039, 125038, 125030, 125032, 125031, 125034, 125033, 125117, 125119, 125121, 125118, 125122, 125120, 125112, 125114, 125113, 125116, 125115, 125107, 125109, 125108, 125111, 125110, 125081, 125083, 125082, 125085, 125084, 125076, 125078, 125077, 125080, 125079, 125086, 125088, 125087, 125090, 125089, 125091'

#w_2018_14:
JOBS='125522, 125588, 125590, 125592, 125589, 125593, 125591, 125578, 125580, 125579, 125582, 125581, 125573, 125575, 125574, 125577, 125576, 125653, 125654, 125677, 125602, 125601, 125510, 125512, 125515, 125511, 125514, 125513, 125505, 125507, 125506, 125509, 125508, 125500, 125502, 125501, 125504, 125503, 125559, 125561, 125563, 125560, 125564, 125562, 125554, 125556, 125555, 125558, 125557, 125549, 125551, 125550, 125553, 125552, 125528, 125530, 125529, 125532, 125531, 125523, 125525, 125524, 125527, 125526, 125533, 125535, 125534, 125537, 125536, 125538'
FAIL='125653,125654'

JOBS="$(echo -e "${JOBS}" | tr -d '[:space:]')"

WEEKTAG='w_2018_04'

#One color
./../usage.py -j $JOBS -t $WEEKTAG -n usage-$WEEKTAG -r 8000 -m mapping2.txt -f $FAIL > nodehour_$WEEKTAG-RC2.out

#Color-coded
./../usage.py -j $JOBS -t $WEEKTAG -n usage-$WEEKTAG-color -c -r 8000 -m mapping2.txt -f $FAIL > nodehour_$WEEKTAG-RC2.out


